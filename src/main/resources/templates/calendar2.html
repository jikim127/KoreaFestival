<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout=http://www.ultraq.net.nz/thymeleaf/layout
      layout:decorate="~{layout/layout}">

<head>
<link rel="stylesheet" href="https://uicdn.toast.com/calendar/latest/toastui-calendar.min.css" />

</head>

<body>

<!--<script src="https://uicdn.toast.com/calendar/latest/toastui-calendar.min.js">-->

<!--    document.addEventListener("DOMContentLoaded", function() {-->

<!--    // Toast UI Calendar 생성-->
<!--    const Calendar = tui.Calendar;-->

<!--    // Toast UI Calendar 구성하기-->
<!--    const calendar = new Calendar('#calendar', {-->
<!--        defaultView: 'month',-->
<!--        template: {-->
<!--            time(event) {-->
<!--                const {start, end, title} = event;-->
<!--                return `<span style="color: white;">${formatTime(start)}~${formatTime(end)} ${title}</span>`;-->
<!--            },-->
<!--            allday(event) {-->
<!--                return `<span style="color: gray;">${event.title}</span>`;-->
<!--            },-->
<!--        },-->
<!--        calendars: [-->
<!--            {-->
<!--                id: 'cal1',-->
<!--                name: 'Personal',-->
<!--                backgroundColor: '#03bd9e',-->
<!--            },-->
<!--            {-->
<!--                id: 'cal2',-->
<!--                name: 'Work',-->
<!--                backgroundColor: '#00a9ff',-->
<!--            },-->
<!--        ],-->
<!--    });-->
<!--    });-->
<!--</script>-->


<div layout:fragment="content">

    <!-- Breadcrumb Section Begin -->
    <section class="breadcrumb-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb-text">
                        <h2>Event Schedule</h2>
                        <div class="bt-option">
                            <a href="#">Home</a>
                            <span>Our Schedule</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Breadcrumb Section End -->


    <!-- TOAST Calendar UI 적용 -->
    <div id="calendar" style="height: 800px"></div>






    <!-- Schedule Table Section Begin -->
    <section class="schedule-table-section spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="schedule-table-tab">
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#tabs-1" role="tab">Marketing</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tabs-2" role="tab">Business</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tabs-3" role="tab">Technology</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tabs-4" role="tab">Experience</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tabs-5" role="tab">Event</a>
                            </li>
                        </ul><!-- Tab panes -->
                        <div class="tab-content">
                            <div class="tab-pane active" id="tabs-1" role="tabpanel">
                                <div class="schedule-table-content">
                                    <table>
                                        <div class="year-month"></div>
<!--                                        <h2 th:text="${#dates.format(#dates.createNow(), 'YYYY년 MMM')}"></h2>-->

                                        <div class="nav"> <!-- 이전달/이번달/다음달 버튼 -->
                                            <button class="nav-btn go-prev">&lt;</button>
                                            <button class="nav-btn go-today">Today</button>
                                            <button class="nav-btn go-next">&gt;</button>
                                        </div>

                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th>
                                                    <strong>SUN</strong>
                                                </th>
                                                <th>
                                                    <strong>MON</strong>
                                                </th>
                                                <th>
                                                    <strong>TUE</strong>
                                                </th>
                                                <th>
                                                    <strong>WED</strong>
                                                </th>
                                                <th>
                                                    <strong>THU</strong>
                                                </th>
                                                <th>
                                                    <strong>FRI</strong>
                                                </th>
                                                <th>
                                                    <strong>SAT</strong>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
<!--                                        <th:block th:each="festivalList : ${festivalItemList}">-->
                                                <tr>
                                                    <div class="dates"></div>
                                                    <td class="event-time">week1</td>
                                                    <td class="break hover-bg">
<!--                                                        <h5 th:text="${#dates.createNow()}"></h5>-->
                                                        <p th:text="${#dates.format(#dates.createNow(), 'E')}"></p>
                                                    </td>
                                                    <td class="break hover-bg">
                                                        <p th:text="${#dates.format(#dates.createNow(), 'MMM')}"></p>
                                                    </td>
                                                    <td class="break hover-bg">
                                                        <p th:text="${#dates.format(#dates.createNow(), 'dd')}"></p>
                                                    </td>
                                                    <td class="break hover-bg">
                                                        <p th:text="${#dates.format(#dates.createNow(), 'HH:mm:ss')}"></p>
                                                    <td class="break hover-bg">
                                                    </td>
                                                    <td class="break hover-bg">
                                                    </td>
                                                    <td class="break hover-bg">
                                                    </td>
<!--                                            </th:block>-->
                                                </tr>
<!--                                            </th:block>-->
                                            <tr>
                                                <td class="event-time">week2</td>
                                                <td class="hover-bg">
                                                    <h5>WEEK2 - 7일 날짜순 나열</h5>
                                                    <p><span>By</span> John Smith</p>
                                                </td>
                                                <td class="hover-bg">
                                                    <h5>Social Website</h5>
                                                    <p><span>By</span> Delia Mullins</p>
                                                </td>
                                                <td class="hover-bg">
                                                    <h5>Introduce Technology</h5>
                                                    <p><span>By</span> Bryan Clark</p>
                                                </td>
                                                <td class="hover-bg">
                                                    <h5>Marketing Design</h5>
                                                    <p><span>By</span> Ida Manning</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="event-time">week3</td>
                                                <td class="hover-bg">
                                                    <h5>WEEK3 - 7일 날짜순 나열</h5>
                                                    <p><span>By</span> Mc Cage</p>
                                                </td>
                                                <td class="hover-bg">
                                                    <h5>Conect People</h5>
                                                    <p><span>By</span> James Colon</p>
                                                </td>
                                                <td class="hover-bg">
                                                    <h5>Maximize CEO</h5>
                                                    <p><span>By</span> Elmer Dunn</p>
                                                </td>
                                                <td class="hover-bg">
                                                    <h5>Reinventing Experiences</h5>
                                                    <p><span>By</span> Martha Fuller</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="event-time">week4</td>
                                                <td class="hover-bg">
                                                    <h5>WEEK4 - 7일 날짜순 나열</h5>
                                                    <p><span>By</span> Thomas Munoz</p>
                                                </td>
                                                <td class="hover-bg">
                                                    <h5>Reinventing Experiences</h5>
                                                    <p><span>By</span> Mattie Hanson</p>
                                                </td>
                                                <td class="hover-bg">
                                                    <h5>Camping</h5>
                                                    <p><span>By</span> Rachel Arnold</p>
                                                </td>
                                                <td class="hover-bg">
                                                    <h5>Social Website</h5>
                                                    <p><span>By</span> Leonard Daniels</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="event-time">week5</td>
                                                <td class="hover-bg">
                                                    <h5>WEEK5 - 7일 날짜순 나열</h5>
                                                    <p><span>By</span> Thomas Munoz</p>
                                                </td>
                                                <td class="hover-bg">
                                                    <h5>Reinventing Experiences</h5>
                                                    <p><span>By</span> Mattie Hanson</p>
                                                </td>
                                                <td class="hover-bg">
                                                    <h5>Camping</h5>
                                                    <p><span>By</span> Rachel Arnold</p>
                                                </td>
                                                <td class="hover-bg">
                                                    <h5>Social Website</h5>
                                                    <p><span>By</span> Leonard Daniels</p>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div> <!--tab-content END-->
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Schedule Table Section End -->

    <!-- Newslatter Section Begin -->
    <section class="newslatter-section about-newslatter">
        <div class="container">
            <div class="newslatter-inner set-bg" data-setbg="img/newslatter-bg.jpg">
                <div class="ni-text">
                    <h3>Subscribe Newsletter</h3>
                    <p>Subscribe to our newsletter and don’t miss anything</p>
                </div>
                <form action="#" class="ni-form">
                    <input type="text" placeholder="Your email">
                    <button type="submit">Subscribe</button>
                </form>
            </div>
        </div>
    </section>
    <!-- Newslatter Section End -->


</div>


<!-- 시작일을 설정하고 날짜를 표시하는 함수 -->
<script th:inline="javascript">

    const date = new Date();

    const viewYear = date.getFullYear();
    const viewMonth = date.getMonth();

    document.querySelector('.year-month').textContent = `${viewYear}년 ${viewMonth + 1}월`;

    const prevLast = new Date(viewYear, viewMonth, 0);
    const thisLast = new Date(viewYear, viewMonth + 1, 0);

    const PLDate = prevLast.getDate();
    const PLDay = prevLast.getDay();

    const TLDate = thisLast.getDate();
    const TLDay = thisLast.getDay();

    const prevDates = [];
    const thisDates = [...Array(TLDate + 1).keys()].slice(1);
    const nextDates = [];

    if (PLDay !== 6) {
        for(let i = 0; i < PLDay +1; i++) {
            prevDates.unshift(PLDate - i);
        }
    }

    for(let i = 1; i < 7 - TLDay; i++) {
        nextDates.push(i);
    }

    const dates = prevDates.concat(thisDates, nextDates);

    dates.forEach((date, i) => {
        dates[i] = '<div class="date">${date}</div>';
    })

    document.querySelector('.dates').innerHTML = dates.join('');





    // function setStartDateAndDates(startDateClass, dateClass) {
    //     const startDateCell = document.querySelector(startDateClass); // 시작일이 표시될 셀
    //     const dateCells = document.querySelectorAll(dateClass); // 날짜를 표시할 셀들
    //
    //     if (startDateCell) {
    //         const startDate = new Date(); // 오늘을 시작일로 설정
    //         const weekDays = ['일', '월', '화', '수', '목', '금', '토'];
    //
    //         // 시작일 셀에 오늘의 날짜를 표시
    //         const dayOfWeek = weekDays[startDate.getDay()]; // 오늘의 요일
    //         const dayOfMonth = startDate.getDate(); // 오늘의 날짜
    //         startDateCell.textContent = `WEEK1 - ${dayOfWeek} ${dayOfMonth}일`;
    //
    //         // 날짜를 추가
    //         dateCells.forEach(function(dateCell, index) {
    //             const date = new Date(startDate);
    //             date.setDate(startDate.getDate() + index);
    //
    //             const dayOfWeek = weekDays[date.getDay()]; // 요일
    //             const dayOfMonth = date.getDate(); // 날짜
    //
    //             dateCell.textContent = `WEEK1 - ${dayOfWeek} ${dayOfMonth}일`;
    //         });
    //     }
    // }
    //
    // setStartDateAndDates('.event-time', '.break.hover-bg', 'h5');
</script>


</body>

</html>