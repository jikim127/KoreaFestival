<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout=http://www.ultraq.net.nz/thymeleaf/layout
      layout:decorate="~{layout/layout}">



<div layout:fragment="content">


<!-- Breadcrumb Section Begin -->
    <section class="breadcrumb-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb-text">
                        <h2>Feature Speakers</h2>
                        <div class="bt-option">
                            <a href="#">Home</a>
                            <span>Our Speakers</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Breadcrumb Section End -->

    <!-- Speaker Section Begin -->
    <section class="speaker-section spad">
        <div class="container">
            <div class="row">
                <div class="col-sm-6" id="festival-items" th:each="item : ${festivalItems}">
                    <div class="speaker-item">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="si-pic">
                                    <img th:src="@{'/path/to/speaker-image/'}" alt="Speaker Image">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="si-text">
                                    <div class="si-title">
                                        <h4 th:text="${item.fstvlNm}"></h4>
                                        <span>Speaker</span>
                                    </div>
                                    <div class="si-social">
                                        <!-- Add social links if available -->
                                    </div>
                                    <p></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="load-more">
                <a href="#" class="primary-btn">Load More</a>
            </div>
        </div>
    </section>
    <!-- Speaker Section End -->

    <!-- Newslatter Section Begin -->
    <section class="newslatter-section about-newslatter">
        <div class="container">
            <div class="newslatter-inner set-bg" data-setbg="img/newslatter-bg.jpg">
                <div class="ni-text">
                    <h3>Subscribe Newsletter</h3>
                    <p>Subscribe to our newsletter and don’t miss anything</p>
                </div>
                <form action="#" class="ni-form">
                    <input type="text" placeholder="Your email">
                    <button type="submit">Subscribe</button>
                </form>
            </div>
        </div>
    </section>
    <!-- Newslatter Section End -->

    <!-- Contact Section Begin -->
    <section class="contact-section spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="section-title">
                        <h2>Location</h2>
                        <p>Get directions to our event center</p>
                    </div>
                    <div class="cs-text">
                        <div class="ct-address">
                            <span>Address:</span>
                            <p>01 Pascale Springs Apt. 339, NY City <br />United State</p>
                        </div>
                        <ul>
                            <li>
                                <span>Phone:</span>
                                (+12)-345-67-8910
                            </li>
                            <li>
                                <span>Email:</span>
                                info.colorlib@gmail.com
                            </li>
                        </ul>
                        <div class="ct-links">
                            <span>Website:</span>
                            <p>https://conference.colorlib.com</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="cs-map">
                        <iframe
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d52901.38789495531!2d-118.19465514866786!3d34.03523211493029!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80c2cf71ad83ff9f%3A0x518b28657f4543b7!2sEast%20Los%20Angeles%2C%20CA%2C%20USA!5e0!3m2!1sen!2sbd!4v1579763856144!5m2!1sen!2sbd"
                            height="400" style="border:0;" allowfullscreen=""></iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Contact Section End -->
</div>


<script th:inline="javascript">

    // JavaScript를 사용하여 RESTful API에 요청을 보냅니다
    // jQuery를 사용한 예제입니다. jQuery를 먼저 로드해야 합니다.
    // jQuery를 로드하려면 <script> 태그를 사용하여 jQuery를 추가합니다.

    $(document).ready(function() {
        $.ajax({
            url: "/jsonapi",
            type: "GET",
            success: function(festivalItems) {
                var festivalItems = festivalItems;

                // Speaker Section을 동적으로 생성
                var festivalItemsContainer = $("#festival-items");
                festivalItemsContainer.empty();

                $.each(festivalItems, function(index, item) {
                    var speakerItem = $("<div>").addClass("speaker-item");
                    var row = $("<div>").addClass("row");
                    var col1 = $("<div>").addClass("col-lg-6");
                    var col2 = $("<div>").addClass("col-lg-6");
                    var siPic = $("<div>").addClass("si-pic");
                    var image = $("<img>").attr("src", "/path/to/speaker-image/").attr("alt", "Speaker Image");
                    var siText = $("<div>").addClass("si-text");
                    var siTitle = $("<div>").addClass("si-title");
                    var h4 = $("<h4>").text(item.fstvlNm);
                    var span = $("<span>").text("Speaker");
                    var siSocial = $("<div>").addClass("si-social");
                    var p = $("<p>").text(item.fstvlStartDate);

                    // HTML 요소를 계층적으로 조립
                    siTitle.append(h4);
                    siTitle.append(span);
                    siText.append(siTitle);
                    siText.append(siSocial);
                    siText.append(p);
                    col1.append(siPic.append(image));
                    col2.append(siText);
                    row.append(col1);
                    row.append(col2);
                    speakerItem.append(row);
                    festivalItemsContainer.append(speakerItem);
                });
            },
            error: function() {
                console.log("API 호출 중 오류 발생");
            }
        });
    });
    </script>


</html>